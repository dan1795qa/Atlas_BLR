# Реализация функционала районов в Атласе Беларуси

## Обюснение

Реализован полный функционал для показа и взаимодействия с 118 районами Беларуси.

## Используемые данные

1. **belarus-regions-district.geojson** - GeoJSON файл с геометрией полигонов районов
   - Поле `shapeName` - название района
   - Основа для интерактивности ополигонах

2. **all-districts-complete.js** - данные о 118 районах
   - Объект `allDistrictsInfo` с намозданиями районов
   - Каждый район имеет:
     - название и область
     - координаты центра `centerCoords` [lng, lat]
     - население и плотность
     - год основания
     - достопримечательности
     - основные отрасли экономики

## Модифицированные файлы

### js/districts.js (НОВЫЙ)
Основной модуль для работы с районами:

**Ключевые функции:**
- `loadDistrictsData()` - загружает GeoJSON и отображает районы
- `addDistrictBoundaries(geojson)` - рисует границы районов с интерактивностью
- `addDistrictMarkers()` - добавляет маркеры на центры районов
- `selectDistrict(name, layer, feature)` - выделяет район
- `showDistrictInfo(info)` - показывает инфо-панель справа
- `switchToDistricts()` - переключается на режим районов
- `switchToRegions()` - переключается на режим областей

**Что происходит при клике на район:**
1. Полигон района выделяется (ежение зеленый)
2. Карта приближается к границам района
3. Маркер центра становится кликабельным
4. Появляется всплывающая панель справа с детальной информацией

### index.html
- Обновлены ID элементов инфо-панели:
  - `infoPanel` (id для самой панели)
  - `infoPanelContent` (id для содержимого)
  - `closePanel` (id кнопки закрытия)
- Добавлены ID на кнопки навигации:
  - `mapRegionsBtn`
  - `mapDistrictsBtn`

### css/style.css
- Обновлены стили всплывающей панели для работы с `infoPanel` и `.active`
- Новые классы `.district-info` для оформления информации районов
- Адаптивные стили для мобильных устройств

### js/navigation.js
- Обновлены обработчики для закрытия панели с новым классом `.active`
- Обновлена логика переключения через `switchToDistricts()` и `switchToRegions()`

### js/app.js
- Обновлены ID элементов панели для `infoPanel` и `infoPanelContent`
- Обновлены классы для открытия/закрытия панели - `.active` вместо `.hidden`
- Добавлены глобальные функции для `districts.js`:
  - `window.loadRegions()`
  - `window.switchToRegionsOriginal()`

## Украшение

Районы отображаются:
- **Границы**: #7cf578 (светло-зеленая)
- **Заливка**: #4a7c7e (серо-зеленая, прозрачность 0.25)
- **При выделении**: зеленый (прозрачность 0.5)
- **Маркеры**: кружки середин районов (#7cf578)

## Тестирование

1. Откройте на карте вкладку "Районы"
2. Будут видны границы всех 118 районов
3. Наведите мышью на район - он выделится
4. Кликните на район
   - На район будет аплан, маркер станет кликабельным
   - Справа появится инфо-панель с деталями
5. Кликните на маркер центра
   - Появится popup с информацией о центре района
6. Нажмите "Области" для возврата в режим областей

## Встроенные тесты

Откройте консоль транзакция (F12) для логирования дебаггинга.
